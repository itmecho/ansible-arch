---
- name: Arch Configuration
  hosts: all
  pre_tasks:
    - name: Sync pacman cache
      pacman:
        update_cache: true
  roles:
    - name: alacritty

    - name: bluetooth
      when: has_bluetooth | default(false)

    - name: bspwm

    - name: common

    - name: docker

    - name: dropbox
      when: is_work

    - name: dunst

    - name: gpg-agent

    - name: graphics

    - name: mopidy

    - name: neovim

    - name: ops-tool
      when: is_work

    - name: pcloud

    - name: picom

    - name: polybar

    - name: pulumi
      when: is_work

    - name: rofi

    - name: rust

    - name: spotify

    - name: steam
      when: not is_work

    - name: sxhkd

    - name: yay

    - name: zsh
  vars:
    spotify:
      username: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34636632346137646230646463636136306333653335663261663963326262656161613738363136
          6532326632666365346437613037613730646662333738660a663963326339363265356162643437
          63363130613632313163343530396564653139373333393463313338623661363034383536393431
          3735303731376236350a623866646561343361373631656665393162343363303137393532326562
          33303030313266313432383939373837313461636635376130356333623563646133
      password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36323339353235633139386566323237303762303466323864616365303564326561626633356465
          6437633830346263616662636130653430623961393739340a633531393361383165316637346639
          66663663386639303739653930376337376363393533363939343261353264633861663664613331
          6134366537666435330a336633623435383839616364333637663162333138303736346631623936
          3737
      client_id: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64383533326435346236363236333865363831356330336135646532353533326536306362633335
          6637333238613161393732303937363136336261666534650a313533383138393439616465613839
          66343532613662623064366362333430376566633465396665386434633136383435633635333938
          3063343963316566640a666231666665306163383264353363356163666565313364613364396233
          39623763663061366439333266613062623261393836643331373038323432373337643661366163
          3039613734383830333336623430333130653664346134366237
      client_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36663632373630656564396134633239656633643363316437386538333732663838623266633439
          3830393333363030396462356561303531323962323134650a633838626638323337363336366264
          66646433616537623464666334386634393563636434303066633535663934363464613336613433
          6138366635626431610a343239656662653163643031663362326162343434643937643939663664
          32376337373036383266366633663937306265363561356432353235383263353736303161393166
          3961626633306363353234323234373233623339616165633532
